/*
 * OneTxPayment Client Version 1 autogenerated by
 * @colony/colony-js version 4.0.0-beta.0 from colonyNetwork tag 'clwss'
 *
 * Feel free to modify as needed!
 */

/* eslint-disable @typescript-eslint/no-explicit-any */

import { ClientType } from '../../../../types';
import { OneTxPayment__factory as OneTxPaymentFactory } from '../../../../contracts/OneTxPayment/1/factories/OneTxPayment__factory';
import { OneTxPayment } from '../../../../contracts/OneTxPayment/1/OneTxPayment';
import { AugmentedIColony } from '../../../../clients/Core/augments/commonAugments';

import {
  getOneTxPaymentClientAugments,
  getOneTxPaymentClientEstimateAugments,
} from './OneTxPaymentClientAugments';

type OneTxPaymentEstimate = OneTxPayment['estimateGas'];
interface AugmentedOneTxPaymentEstimate extends OneTxPaymentEstimate {
  /*
   * @TODO These needs to be specifically determined once we can integrate
   * static code analysis into this lib
   */
  [key: string]: any;
}

export interface OneTxPaymentClient extends OneTxPayment {
  clientType: ClientType.OneTxPaymentClient;
  estimate: AugmentedOneTxPaymentEstimate;
  /*
   * @TODO These needs to be specifically determined once we can integrate
   * static code analysis into this lib
   */
  [key: string]: any;
}

const getOneTxPaymentClient = (
  address: string,
  colonyClient: AugmentedIColony,
): OneTxPaymentClient => {
  const oneTxPaymentClient = OneTxPaymentFactory.connect(
    address,
    colonyClient.signer || colonyClient.provider,
  ) as OneTxPaymentClient;
  oneTxPaymentClient.clientType = ClientType.OneTxPaymentClient;

  const addons = getOneTxPaymentClientAugments(
    oneTxPaymentClient,
    colonyClient,
  );
  const addonsEstimate = getOneTxPaymentClientEstimateAugments(
    oneTxPaymentClient,
    colonyClient,
  );

  Object.keys(addons).map((addonName) => {
    oneTxPaymentClient[addonName] = addons[addonName];
    return null;
  });

  Object.keys(addonsEstimate).map((addonName) => {
    oneTxPaymentClient.estimate[addonName] = addonsEstimate[addonName];
    return null;
  });

  return oneTxPaymentClient;
};

export default getOneTxPaymentClient;

/* eslint-enable */
